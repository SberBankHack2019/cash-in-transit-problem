# cash-in-transit-problem
Оптимизация маршрута инкассаторского автомобиля

## graph

### Описание

Модуль для генерации Графа с весами типа Double и Вершинами типа 
```com.sberhack.fun.graph.vertex.VSP```. VSP представляет из себя отделение Сбербанка с параметрами:
- Количество денег
- Время, которое машина должна провести в ВСП, чтобы забрать деньги 
Так же нода может быть типа ```com.sberhack.fun.graph.vertex.Vault```. Vault - это хранилище,
 куда инкассатор должен отвезти деньги

Время в ВСП и расстояния между ВСП имеют тип Double для того, чтобы их можно было складывать.
Библиотека scala.graph может принимать как веса рёбер только Double.

В пакете dot есть метод ```com.sberhack.fun.dot.saveDotFile``` который сохраняет граф
в dot файл в директорию
```/сash-in-transit-problem/graph/src/main/dot/``` откуда его можео превратить в png или svg 
с помощью скрипта ```/cash-in-transit-problem/graph/src/main/generated/dotToFile.sh```
при условии что у вас установлен graphviz и его вызовов доступен из консоли через команду dot 

### Интеграция с другими модулями

Для интеграции с другими модулями должен использоваться пакет
```com.sberhack.fun.graph.generator``` 
в package object-е расположены методы, возвращающие разные виды графов

### Конфигурация
Через файл:
```/сash-in-transit-problem/graph/src/main/resources/reference.conf```
Все методы в модуле используют этот файл 

<pre>
vsp{
  min-cash = Минимальное количество наличных в ВСП (в рублях)
  max-cash = Максимальное количество наличных в ВСП (в рублях)
  min-pickup-time = Минимальное время на то чтобы забрать наличные из ВСП (в секундах)
  max-pickup-time = Максимальное время на то чтобы забрать наличные из ВСП (в секундах)
  cash-precision = Количество знаков после запятой в деньгах 
  time-precision = Количество знаков после запятой во времени
  distance{
    min-distance = Минимальное расстояние между ВСП 
    max-distance = Максимальное расстояние между ВСП
    precision = Количество знаков после запятой в расстоянии
  }
}

dot{
  graph-name = Имя Графа
  node-shape = Форма верщин
}
vertex{
  vsp{
    min-cash = Минимальное количество наличных в ВСП (в рублях)
    max-cash = Максимальное количество наличных в ВСП (в рублях)
    min-pickup-time = Минимальное время на то чтобы забрать наличные из ВСП (в секундах)
    max-pickup-time = Максимальное время на то чтобы забрать наличные из ВСП (в секундах)
    cash-precision = Количество знаков после запятой в деньгах 
    time-precision = Количество знаков после запятой во времени
    distance{
      min-distance = Минимальное расстояние между ВСП 
      max-distance = Максимальное расстояние между ВСП
      precision = Количество знаков после запятой в расстоянии
    }
  }
}
generator{
  random{
    min-connections = Минимальное число соединений между ВСП
    max-connections = Максимальное число соединений между ВСП
    min-base-connections = Минимальное число соединений между ВСП и хранилищем
    max-base-connections = Максимальное число соединений между ВСП и хранилищем
  }
}
</pre>

### Задачи
- [x] Сделать API для генерации графа и простой генератор
- [x] Сделать генерацию случайного графа
- [ ] Сделать генерацию случайного графа с заданной плотностью
- [ ] Сделать генерацию зеркального графа
